[[1,2]]
c(c(1,2))
x = c(1,2,2,5,5,6,5,6,8,9)
y = c(3,1,3,4,7,7,8,8,2,1)
plot(x,y)
X = c(x,y)
var(X)
mean()
mean(X)
X[1][2]
var(x) + var(y)
var(x)*9 + var(y)*9
lol
data$X..Date
data = read.csv('../CAPEBPaysDelaLoire_QUI_OU_FILTRE.csv', header=TRUE, sep=",")
#date sous format annee
data$X..Date = as.numeric(substring(data$X..Date, 7, 10))
getAttYear <- function(y, l_atr){
l_atr = c(l_atr, "X..Date")
return(subset(data, X..Date == y, select = l_atr))
}
annee = unique(data$X..Date)
annee = unique(data$X..Date)
data$X..Date
data = read.csv('../CAPEBPaysDelaLoire_QUI_OU_FILTRE.csv', header=TRUE, sep=",")
setwd("C:/GitHub/HyblabDDJ2018/capeb/public/data/r_scritps")
data = read.csv('../CAPEBPaysDelaLoire_QUI_OU_FILTRE.csv', header=TRUE, sep=",")
#date sous format annee
data$X..Date = as.numeric(substring(data$X..Date, 7, 10))
getAttYear <- function(y, l_atr){
l_atr = c(l_atr, "X..Date")
return(subset(data, X..Date == y, select = l_atr))
}
annee = unique(data$X..Date)
colors = c("#e6194b","#3cb44b","#ffe119","#0082c8","#f58231","#911eb4","#46f0f0","#d49f36","#552095","#507f2d","#db37aa","#84b67c","#a06fda","#df462a","#5b83db","#c76c2d","#4f49a3","#82702d","#dd6bbb","#334c22","#d83979","#55baad","#dc4555","#62aad3","#8c3025","#417d61","#862977","#bba672","#403367","#da8a6d","#a79cd4","#71482c","#c689d0","#6b2940","#d593a7","#895c8b","#bd5975")
colors = palette(rainbow(20))
aggregate(Effectif.total ~ X..Date, data, mean)
plot(aggregate(Effectif.total ~ X..Date, data, mean))
plot(eff_d)
lines(eff_d)
###################evolution de l'effectif
eff_d = aggregate(Effectif.total ~ X..Date, data, mean)
plot(eff_d)
lines(eff_d)
plot(eff_d,type="l")
plot(eff_d,type="l", xlab="annee")
plot(eff_d,type="l", xlab="annee", ylab="effectif moyen")
legend("evolution de l'effectif moyen par entreprise entre 2008-2017")
legend(legend= "evolution de l'effectif moyen par entreprise entre 2008-2017")
title(main= "evolution de l'effectif moyen par entreprise entre 2008-2017")
table(data$Activité)
eff_acts = matrix(ncol = length(table(data$Activité)), nrow=0)
for(a in annee){
acts = rbind(acts, table(getAttYear(a, "Activité")$Effectif.total))
}
for(a in annee){
eff_acts = rbind(eff_acts, table(getAttYear(a, "Activité")$Effectif.total))
}
eff_acts
annee
eff_acts = matrix(ncol = length(table(data$Activité)), nrow=0)
for(a in annee){
eff_acts = rbind(eff_acts, table(getAttYear(a, c("Activité", "Effectif.total"))$Effectif.total))
}
table(getAttYear(2008, c("Activité", "Effectif.total"))
table(getAttYear(2008, c("Activité", "Effectif.total")))
getAttYear(2008, c("Activité", "Effectif.total"))
aggregate(Effectif.total ~ Activité, getAttYear(2008, c("Activité", "Effectif.total")))
aggregate(Effectif.total ~ Activité, getAttYear(2008, c("Activité", "Effectif.total")), sum)
aggregate(Effectif.total ~ Activité, getAttYear(annee, c("Activité", "Effectif.total")), sum)
table(getAttYear(annee, c("Activité", "Effectif.total")))
getAttYear(annee, c("Activité", "Effectif.total"))
aggregate(. ~ Activité, getAttYear(annee, c("Activité", "Effectif.total"), sum)
aggregate(. ~ Activité, getAttYear(annee, c("Activité", "Effectif.total"), sum))
aggregate(.~ Activité, getAttYear(annee, c("Activité", "Effectif.total"), sum))
aggregate(.~ Activité, getAttYear(annee, c("Activité", "Effectif.total")), sum)
table(getAttYear(2008, c("Activité", "Effectif.total")))
table(getAttYear(2008, c("Activité", "Effectif.total"))[,c(2,3)])
getAttYear(2008, c("Activité", "Effectif.total"))[,c(2,3)]
getAttYear(2008, c("Activité", "Effectif.total"))[,c(1,3)]
getAttYear(2008, c("Activité", "Effectif.total"))[,c(1,2)]
table(getAttYear(2008, c("Activité", "Effectif.total"))[,c(1,2)])
for(a in annee){
eff_d = rbind(eff_d, table(getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)]))
}
eff_d = matrix(ncol=length(table(data$Activité)) + 1, nrow=0)
for(a in annee){
eff_d = rbind(eff_d, table(getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)]))
}
table(getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)])
aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)])
aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
eff_d = matrix(ncol=length(table(data$Activité)) + 1, nrow=0)
for(a in annee){
eff_d = rbind(eff_d, aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
)
}
View(eff_d)
View(eff_d)
eff_d = matrix(ncol=length(table(data$Activité)) + 1, nrow=0)
for(a in annee){
eff_d = rcol(eff_d, aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
)
}
eff_d = matrix(ncol=length(table(data$Activité)) + 1, nrow=0)
for(a in annee){
eff_d = cbind(eff_d, aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
)
}
eff_d = matrix(ncol=length(table(data$Activité)) + 1, nrow=length(unique(data$Activité)))
for(a in annee){
eff_d = cbind(eff_d, aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
)
}
aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,2], sum)
aggregate(.~ Activité, getAttYear(2008, c("Activité", "Effectif.total"))[,2], sum)
aggregate(.~ Activité, getAttYear(2008, c("Activité", "Effectif.total"))[,2], sum)
getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum))
getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)[,2]
eff_d = matrix(ncol=length(table(data$Activité)) + 1, nrow=length(unique(data$Activité)))
for(a in annee){
eff_d = cbind(eff_d, aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)[,2])
}
aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)
aggregate(.~ Activité, getAttYear(annee, c("Activité", "Effectif.total"))[,c(1,2)], sum)
eff_d = matrix(ncol=length(table(data$Activité)) + 1, nrow=length(unique(data$Activité)))
for(a in annee){
eff_d = cbind(eff_d, aggregate(.~ Activité, getAttYear(a, c("Activité", "Effectif.total"))[,c(1,2)], sum)[,2])
}
eff_d
aggregate(.~ Activité, getAttYear(2008, c("Activité", "Effectif.total"))[,c(1,2)], sum)
nbrow(getAttYear(2017, "Age.CE"))
nrow(getAttYear(2017, "Age.CE"))
nrow(getAttYear(2017, "Age.CE"))
nrow(getAttYear(2017, "Age.CE"))
nrow(getAttYear(2008, "Age.CE"))
nrow(getAttYear(2010, "Age.CE"))
cut(as.numeric(sub(",", ".", getAttYear(a, "Age.CE")$Age.CE, fixed = TRUE)), c(18, 30, 40, 50, 60, 80)))
cut(as.numeric(sub(",", ".", getAttYear(2008, "Age.CE")$Age.CE, fixed = TRUE)), c(18, 30, 40, 50, 60, 80)))
cut(as.numeric(sub(",", ".", getAttYear(2008, "Age.CE")$Age.CE, fixed = TRUE)), c(18, 30, 40, 50, 60, 80))
cut(as.numeric(sub(",", ".", getAttYear(2008, "Age.CE")[, c("Age.CE", "CA.Réaliser")], fixed = TRUE)), c(18, 30, 40, 50, 60, 80))
data = read.csv('../CAPEBPaysDelaLoire_EnqueteConjonctureBarometrique_2008-2017.csv', header=TRUE, sep=",")
data
ncol(data)
data = read.csv('../CAPEBPaysDelaLoire_QUI_OU_FILTRE.csv', header=TRUE, sep=",")
data = read.csv('../CAPEBPaysDelaLoire_QUI_OU_FILTRE.csv', header=TRUE, sep=",")
data$CA.re
data$CA.réalisé
